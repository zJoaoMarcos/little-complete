generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model stock {
  id          String    @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  name        String    @db.VarChar(255)
  description String?
  type        String    @db.VarChar(50)
  amount      Int
  amount_min  Int
  local       String    @db.VarChar(100)
  created_by  String
  created_at  DateTime  @default(now()) @db.Date
  updated_at  DateTime? @db.Date
}

model departments {
  id             Int      @id @default(autoincrement())
  department     String?  @unique @db.Char(50)
  cost_center    Int?
  is_board       Boolean?
  board          String?  @db.Char(50)
  responsible_id String?  @db.Char(50)
}

model systems {
  id          Int     @id @default(autoincrement())
  name        String? @db.Char(30)
  description String? @db.Char(20)
  type        String? @db.Char(50)
  cost        Float?
  quantity    Int?
  invoice     String? @db.Char(50)
}

model users {
  username        String            @id @db.Char(50)
  complete_name   String?           @db.Char(100)
  title           String?           @db.Char(50)
  department_id   String?           @db.Char(50)
  telephone       Int?
  direct_boss     String?           @db.Char(50)
  smtp            String?           @unique @db.Char(50)
  admission_date  DateTime?         @db.Date
  demission_date  DateTime?         @db.Date
  status          String?           @db.Char(50)
  equipments_user equipments_user[]
}

model equipments {
  id              String            @id @db.Char(13)
  brand           String?           @db.Char(20)
  model           String?           @db.Char(15)
  supplier        String?           @db.Char(50)
  invoice         String?           @db.Char(50)
  warranty        String?           @db.Char(10)
  purchase_date   String?           @db.Char(20)
  department      String?           @db.Char(50)
  status          String?           @db.Char(30)
  cpu             String?           @db.Char(10)
  ram             String?           @db.Char(10)
  slots           Int?
  storage0_type   String?           @db.Char(5)
  storage0_syze   Int?
  storage1_type   String?           @db.Char(5)
  storage1_syze   Int?
  video           String?           @db.Char(20)
  service_tag     String?           @db.Char(50)
  equipments_user equipments_user[]
}

model equipments_user {
  id           Int         @id @default(autoincrement())
  user_id      String?     @db.Char(12)
  equipment_id String?     @db.Char(13)
  equipments   equipments? @relation(fields: [equipment_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  users        users?      @relation(fields: [user_id], references: [username], onDelete: NoAction, onUpdate: NoAction)
}

model stock_transactions {
  id            String   @id(map: "stock_movements_pkey") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  stock_id      String   @db.Uuid
  movement_type String   @db.VarChar(50)
  partner       String   @db.VarChar(100)
  department    String   @db.VarChar(100)
  amount        Int
  created_at    DateTime @default(now())
  created_by    String   @db.VarChar(100)
  value         String?
}
